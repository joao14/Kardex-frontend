{"version":3,"sources":["./src/app/pages/layout/crm/marking/edit/edit-routing.module.ts","./src/app/pages/layout/crm/marking/edit/edit.component.html","./src/app/pages/layout/crm/marking/edit/edit.component.ts","./src/app/pages/layout/crm/marking/edit/edit.module.ts"],"names":[],"mappings":"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","file":"crm-marking-edit-edit-module-ngfactory-es2015.js","sourcesContent":["import { EditComponent } from './edit.component';\nimport { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: EditComponent\n    }\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule]\n})\nexport class EditRoutingModule { }\n","<div class=\"ui-g\">\n    <div class=\"ui-g-12 ui-lg-1\"></div>\n    <div class=\"ui-g-12 ui-lg-10\">\n        <p-toolbar>\n            <div class=\"p-toolbar-group-left\">\n                <button (click)=\"save()\" pButton class=\"ui-button-success\" icon=\"pi pi-check\" label=\"Guardar\"\n                    *ngIf=\"!edit\"></button> &nbsp;\n\n                <button (click)=\"modificar()\" pButton class=\"ui-button-primary\" icon=\"pi pi-pencil\" label=\"Modificar\"\n                    *ngIf=\"edit\"></button> &nbsp;\n\n                <button (click)=\"cancelar()\" pButton class=\"ui-button-warning\" icon=\"pi pi-arrow-left\"\n                    label=\"Atrás\"></button> &nbsp;\n\n            </div>\n        </p-toolbar> \n        <div class=\"card card-w-title ui-fluid\">\n\n            <h1 *ngIf=\"!edit\">Agregar nueva marcación </h1>\n            <h1 *ngIf=\"edit\">{{nameClient | uppercase }} </h1>\n            <div class=\"ui-g form-group\">\n                <div class=\"ui-g-12 ui-md-6\" *ngIf=\"!edit\">\n                    <label for=\"nombre\">Cliente</label>\n                    <p-dropdown [options]=\"clients\"  optionLabel=\"nombres\" class=\"form-control\" [(ngModel)]=\"mark.entiId\"\n                    [filter]=\"true\" placeholder=\"Seleccione\"></p-dropdown> \n                </div>                \n                <div class=\"ui-g-12 ui-md-6\">\n                    <label for=\"nombre\">Marca</label>\n                    <input type=\"text\" name=\"nombre\" pInputText autocomplete=\"off\" maxlength=\"100\"\n                        [(ngModel)]=\"mark.nombre\" />\n                </div>\n\n                <div class=\"ui-g-12 ui-md-6\">\n                    <label for=\"estado\">Estado</label>\n                    <p-selectButton [options]=\"options\" [(ngModel)]=\"mark.estado\"></p-selectButton>\n                </div>\n\n            </div>\n        </div>\n    </div>\n    <div class=\"ui-g-12 ui-lg-1\"></div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { MessageService, SelectItem } from 'primeng';\nimport { mark } from 'src/models/mark';\nimport { ApisService } from 'src/services/apis.service';\nimport { Router } from '@angular/router';\nimport { client } from '../../clientes/edit/edit.component';\n\n@Component({\n  selector: 'app-edit',\n  templateUrl: './edit.component.html',\n  styleUrls: ['./edit.component.css'],\n  providers: [MessageService]\n})\nexport class EditComponent implements OnInit {\n\n\n  edit: boolean;\n  mark: mark;\n  markTemp: mark;\n  options: SelectItem[];\n  nameClient: string;\n  clients: Array<client> = [];\n\n  constructor(private api: ApisService, private router: Router, private messageService: MessageService) {\n    if (this.router.getCurrentNavigation().extras.state != null) {\n      this.markTemp = JSON.parse(this.router.getCurrentNavigation().extras.state.mark);\n      console.log(this.markTemp);\n      this.edit = true;\n    } else {\n      this.edit = false;\n    }\n    this.inicializateValores();\n  }\n\n  ngOnInit(): void {\n  }\n\n  inicializateValores() {\n    console.log('Inicializando los valores');\n    this.mark = {\n      marcId: this.markTemp != null ? this.markTemp['marcId'] : null,\n      nombre: this.markTemp != null ? this.markTemp['nombre'] : \"\",\n      entiId: this.markTemp != null ? this.markTemp['entiId'] : null,\n      estado: this.markTemp != null ? this.markTemp['estado'] : \"A\"\n    };\n    console.log(this.mark);\n\n    this.options = [{ label: 'Activo', value: 'A' }, { label: 'Inactivo', value: 'I' }];\n\n    this.getClients();\n  }\n\n  save() {\n    console.log('[Guardando una marca]');\n    console.log(this.mark);\n    this.api.addmark(this.mark, localStorage.getItem(\"token\")).then(data => {\n      console.log(data);\n      if (data.headerApp.code === 200) {\n        this.router.navigate(['marcas']);\n        this.inicializateValores();\n      }\n    }).catch(err => {\n      console.log(err);\n      if (err.error.code == 401) {\n        localStorage.clear();\n        this.router.navigate(['/login']);\n      }\n    })\n\n  }\n\n  cancelar() {\n    this.router.navigate(['marcas']);\n  }\n\n  modificar() {\n    console.log('[Modificando una mark]');\n    let mark = {\n      marcId: this.mark.marcId,\n      nombre: this.mark.nombre,\n      estado: this.mark.estado\n    }\n    console.log(mark);\n    this.api.updatemark(mark, localStorage.getItem(\"token\")).then(data => {\n      console.log(data);\n      if (data.headerApp.code === 200) {\n        this.router.navigate(['marcas']);\n        this.inicializateValores();\n      }\n    }).catch(err => {\n      console.log(err);\n      if (err.error.code == 401) {\n        localStorage.clear();\n        this.router.navigate(['/login']);\n      }\n    })\n  }\n\n  getClients() {\n    console.log('Consultando los clientes a editar..');\n    this.nameClient = \"\";\n    this.api.getclients(localStorage.getItem(\"token\")).then(client => {\n      console.log(client);\n      if (client.headerApp.code === 200) {\n\n        if (this.markTemp != null) {\n          client.data.clientes.forEach(element => {\n            if (this.markTemp.entiId == element.entiId) {\n              this.nameClient = element.nombres + ' ' + element.apellidos;\n            }\n          });\n        } else {\n          this.clients = client.data.clientes;\n        }\n\n      }\n    }).catch(err => {\n      console.log(err);\n      if (err.error.code == 401) {\n        localStorage.clear();\n        this.router.navigate(['/login']);\n      }\n    })\n  }\n\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { EditComponent } from './edit.component';\nimport { EditRoutingModule } from './edit-routing.module';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { InputSwitchModule, SelectButtonModule, DropdownModule, InputTextModule, InputTextareaModule, ButtonModule, ToolbarModule, ToastModule } from 'primeng';\n\n\n\n@NgModule({\n  declarations: [EditComponent],\n  imports: [\n    CommonModule,\n    EditRoutingModule,\n    FormsModule,\n    ReactiveFormsModule,\n    InputSwitchModule,\n    SelectButtonModule,\n    DropdownModule,\n    InputTextModule,\n    InputTextareaModule,\n    ButtonModule,\n    ToolbarModule,\n    ToastModule,\n  ]\n})\nexport class EditModule { }\n"],"sourceRoot":"webpack:///"}