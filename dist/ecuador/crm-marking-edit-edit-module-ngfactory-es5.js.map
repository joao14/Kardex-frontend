{"version":3,"sources":["webpack:///src/app/pages/layout/crm/marking/edit/edit-routing.module.ts","webpack:///src/app/pages/layout/crm/marking/edit/edit.component.html","webpack:///src/app/pages/layout/crm/marking/edit/edit.component.ts","webpack:///src/app/pages/layout/crm/marking/edit/edit.module.ts"],"names":["routes","path","component","EditRoutingModule","EditComponent","api","router","messageService","clients","getCurrentNavigation","extras","state","markTemp","JSON","parse","mark","console","log","edit","inicializateValores","marcId","nombre","entiId","estado","options","label","value","getClients","addmark","localStorage","getItem","then","data","headerApp","code","navigate","catch","err","error","clear","updatemark","nameClient","getclients","client","clientes","forEach","element","nombres","apellidos","EditModule"],"mappings":"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","file":"crm-marking-edit-edit-module-ngfactory-es5.js","sourcesContent":["import { EditComponent } from './edit.component';\nimport { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: EditComponent\n    }\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule]\n})\nexport class EditRoutingModule { }\n","<div class=\"ui-g\">\n    <div class=\"ui-g-12 ui-lg-1\"></div>\n    <div class=\"ui-g-12 ui-lg-10\">\n        <p-toolbar>\n            <div class=\"p-toolbar-group-left\">\n                <button (click)=\"save()\" pButton class=\"ui-button-success\" icon=\"pi pi-check\" label=\"Guardar\"\n                    *ngIf=\"!edit\"></button> &nbsp;\n\n                <button (click)=\"modificar()\" pButton class=\"ui-button-primary\" icon=\"pi pi-pencil\" label=\"Modificar\"\n                    *ngIf=\"edit\"></button> &nbsp;\n\n                <button (click)=\"cancelar()\" pButton class=\"ui-button-warning\" icon=\"pi pi-arrow-left\"\n                    label=\"Atrás\"></button> &nbsp;\n\n            </div>\n        </p-toolbar> \n        <div class=\"card card-w-title ui-fluid\">\n\n            <h1 *ngIf=\"!edit\">Agregar nueva marcación </h1>\n            <h1 *ngIf=\"edit\">{{nameClient | uppercase }} </h1>\n            <div class=\"ui-g form-group\">\n                <div class=\"ui-g-12 ui-md-6\" *ngIf=\"!edit\">\n                    <label for=\"nombre\">Cliente</label>\n                    <p-dropdown [options]=\"clients\"  optionLabel=\"nombres\" class=\"form-control\" [(ngModel)]=\"mark.entiId\"\n                    [filter]=\"true\" placeholder=\"Seleccione\"></p-dropdown> \n                </div>                \n                <div class=\"ui-g-12 ui-md-6\">\n                    <label for=\"nombre\">Marca</label>\n                    <input type=\"text\" name=\"nombre\" pInputText autocomplete=\"off\" maxlength=\"100\"\n                        [(ngModel)]=\"mark.nombre\" />\n                </div>\n\n                <div class=\"ui-g-12 ui-md-6\">\n                    <label for=\"estado\">Estado</label>\n                    <p-selectButton [options]=\"options\" [(ngModel)]=\"mark.estado\"></p-selectButton>\n                </div>\n\n            </div>\n        </div>\n    </div>\n    <div class=\"ui-g-12 ui-lg-1\"></div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { MessageService, SelectItem } from 'primeng';\nimport { mark } from 'src/models/mark';\nimport { ApisService } from 'src/services/apis.service';\nimport { Router } from '@angular/router';\nimport { client } from '../../clientes/edit/edit.component';\n\n@Component({\n  selector: 'app-edit',\n  templateUrl: './edit.component.html',\n  styleUrls: ['./edit.component.css'],\n  providers: [MessageService]\n})\nexport class EditComponent implements OnInit {\n\n\n  edit: boolean;\n  mark: mark;\n  markTemp: mark;\n  options: SelectItem[];\n  nameClient: string;\n  clients: Array<client> = [];\n\n  constructor(private api: ApisService, private router: Router, private messageService: MessageService) {\n    if (this.router.getCurrentNavigation().extras.state != null) {\n      this.markTemp = JSON.parse(this.router.getCurrentNavigation().extras.state.mark);\n      console.log(this.markTemp);\n      this.edit = true;\n    } else {\n      this.edit = false;\n    }\n    this.inicializateValores();\n  }\n\n  ngOnInit(): void {\n  }\n\n  inicializateValores() {\n    console.log('Inicializando los valores');\n    this.mark = {\n      marcId: this.markTemp != null ? this.markTemp['marcId'] : null,\n      nombre: this.markTemp != null ? this.markTemp['nombre'] : \"\",\n      entiId: this.markTemp != null ? this.markTemp['entiId'] : null,\n      estado: this.markTemp != null ? this.markTemp['estado'] : \"A\"\n    };\n    console.log(this.mark);\n\n    this.options = [{ label: 'Activo', value: 'A' }, { label: 'Inactivo', value: 'I' }];\n\n    this.getClients();\n  }\n\n  save() {\n    console.log('[Guardando una marca]');\n    console.log(this.mark);\n    this.api.addmark(this.mark, localStorage.getItem(\"token\")).then(data => {\n      console.log(data);\n      if (data.headerApp.code === 200) {\n        this.router.navigate(['marcas']);\n        this.inicializateValores();\n      }\n    }).catch(err => {\n      console.log(err);\n      if (err.error.code == 401) {\n        localStorage.clear();\n        this.router.navigate(['/login']);\n      }\n    })\n\n  }\n\n  cancelar() {\n    this.router.navigate(['marcas']);\n  }\n\n  modificar() {\n    console.log('[Modificando una mark]');\n    let mark = {\n      marcId: this.mark.marcId,\n      nombre: this.mark.nombre,\n      estado: this.mark.estado\n    }\n    console.log(mark);\n    this.api.updatemark(mark, localStorage.getItem(\"token\")).then(data => {\n      console.log(data);\n      if (data.headerApp.code === 200) {\n        this.router.navigate(['marcas']);\n        this.inicializateValores();\n      }\n    }).catch(err => {\n      console.log(err);\n      if (err.error.code == 401) {\n        localStorage.clear();\n        this.router.navigate(['/login']);\n      }\n    })\n  }\n\n  getClients() {\n    console.log('Consultando los clientes a editar..');\n    this.nameClient = \"\";\n    this.api.getclients(localStorage.getItem(\"token\")).then(client => {\n      console.log(client);\n      if (client.headerApp.code === 200) {\n\n        if (this.markTemp != null) {\n          client.data.clientes.forEach(element => {\n            if (this.markTemp.entiId == element.entiId) {\n              this.nameClient = element.nombres + ' ' + element.apellidos;\n            }\n          });\n        } else {\n          this.clients = client.data.clientes;\n        }\n\n      }\n    }).catch(err => {\n      console.log(err);\n      if (err.error.code == 401) {\n        localStorage.clear();\n        this.router.navigate(['/login']);\n      }\n    })\n  }\n\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { EditComponent } from './edit.component';\nimport { EditRoutingModule } from './edit-routing.module';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { InputSwitchModule, SelectButtonModule, DropdownModule, InputTextModule, InputTextareaModule, ButtonModule, ToolbarModule, ToastModule } from 'primeng';\n\n\n\n@NgModule({\n  declarations: [EditComponent],\n  imports: [\n    CommonModule,\n    EditRoutingModule,\n    FormsModule,\n    ReactiveFormsModule,\n    InputSwitchModule,\n    SelectButtonModule,\n    DropdownModule,\n    InputTextModule,\n    InputTextareaModule,\n    ButtonModule,\n    ToolbarModule,\n    ToastModule,\n  ]\n})\nexport class EditModule { }\n"]}